<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerador de Recibo de Compra e Venda de Imóveis</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { text-align: center; }
    label { display: block; margin-top: 10px; }
    input, select { padding: 5px; width: 100%; margin-top: 5px; }
    button { margin-top: 10px; padding: 8px 12px; cursor: pointer; border-radius: 6px; }
    .section { margin-bottom: 20px; border: 1px solid #ccc; padding: 10px; border-radius: 8px; }
    .recibo { margin-top: 30px; padding: 20px; border: 2px solid #000; }
    .bold { font-weight: bold; }
  </style>
</head>
<body>
  <h1>Gerador de Recibo de Compra e Venda de Imóveis</h1>

  <form id="reciboForm">
    <div class="section" id="vendedores">
      <h3>Vendedores</h3>
      <div class="vendedor">
        <label>Nome do Vendedor:</label>
        <input type="text" name="vendedorNome[]" required>
        <label>CPF do Vendedor:</label>
        <input type="text" name="vendedorCPF[]" required placeholder="000.000.000-00">
      </div>
      <button type="button" onclick="addVendedor()">Adicionar Vendedor</button>
    </div>

    <div class="section" id="compradores">
      <h3>Compradores</h3>
      <div class="comprador">
        <label>Nome do Comprador:</label>
        <input type="text" name="compradorNome[]" required>
        <label>CPF do Comprador:</label>
        <input type="text" name="compradorCPF[]" required placeholder="000.000.000-00">
      </div>
      <button type="button" onclick="addComprador()">Adicionar Comprador</button>
    </div>

    <div class="section">
      <h3>Informações do Imóvel</h3>
      <label>Tipo de Imóvel:</label>
      <select name="tipoImovel" required>
        <option value="Área de Terra">Área de Terra</option>
        <option value="Lote">Lote</option>
        <option value="Casa">Casa</option>
      </select>

      <label>Rua/Avenida:</label>
      <input type="text" name="rua" required>
      <label>Número:</label>
      <input type="text" name="numero" required>
      <label>Bairro:</label>
      <input type="text" name="bairro" required>
      <label>Cidade:</label>
      <input type="text" name="cidade" required>
      <label>Estado:</label>
      <input type="text" name="estado" required>
      <label>CEP:</label>
      <input type="text" name="cep" required placeholder="00000-000">
    </div>

    <div class="section">
      <h3>Valores</h3>
      <label>Valor da Negociação (R$):</label>
      <input type="number" name="valor" required>
    </div>

    <button type="button" onclick="gerarRecibo()">Gerar Recibo</button>
  </form>

  <div id="reciboGerado" class="recibo"></div>

  <script>
    function addVendedor() {
      const div = document.createElement('div');
      div.classList.add('vendedor');
      div.innerHTML = `
        <label>Nome do Vendedor:</label>
        <input type="text" name="vendedorNome[]" required>
        <label>CPF do Vendedor:</label>
        <input type="text" name="vendedorCPF[]" required placeholder="000.000.000-00">
      `;
      document.getElementById('vendedores').insertBefore(div, document.querySelector('#vendedores button'));
    }

    function addComprador() {
      const div = document.createElement('div');
      div.classList.add('comprador');
      div.innerHTML = `
        <label>Nome do Comprador:</label>
        <input type="text" name="compradorNome[]" required>
        <label>CPF do Comprador:</label>
        <input type="text" name="compradorCPF[]" required placeholder="000.000.000-00">
      `;
      document.getElementById('compradores').insertBefore(div, document.querySelector('#compradores button'));
    }

    function formatarCPF(cpf) {
      cpf = cpf.replace(/\D/g, "");
      return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
    }

    function gerarRecibo() {
      const form = document.getElementById('reciboForm');
      const data = new FormData(form);

      const vendedores = data.getAll('vendedorNome[]').map((nome, i) => `<span class="bold">${nome.toUpperCase()}</span>, CPF: ${formatarCPF(data.getAll('vendedorCPF[]')[i])}`);
      const compradores = data.getAll('compradorNome[]').map((nome, i) => `<span class="bold">${nome.toUpperCase()}</span>, CPF: ${formatarCPF(data.getAll('compradorCPF[]')[i])}`);

      const tipoImovel = data.get('tipoImovel');
      const endereco = `${data.get('rua')}, nº ${data.get('numero')}, Bairro ${data.get('bairro')}, ${data.get('cidade')} - ${data.get('estado')}, CEP ${data.get('cep')}`;
      const valor = parseFloat(data.get('valor')).toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

      const clausulas = `
        <p>As partes acima identificadas celebram o presente recibo de compra e venda de imóvel, de forma justa e acordada, regendo-se pelas cláusulas seguintes:</p>
        <ul>
          <li>O vendedor declara que o imóvel descrito encontra-se livre de quaisquer ônus ou dívidas.</li>
          <li>O comprador declara estar ciente das condições do imóvel.</li>
          <li>As partes elegem o foro da comarca do imóvel para dirimir quaisquer dúvidas oriundas deste recibo.</li>
        </ul>
      `;

      document.getElementById('reciboGerado').innerHTML = `
        <h2>Recibo de Compra e Venda de Imóvel</h2>
        <p><strong>Vendedores:</strong> ${vendedores.join('; ')}</p>
        <p><strong>Compradores:</strong> ${compradores.join('; ')}</p>
        <p><strong>Imóvel:</strong> ${tipoImovel}, localizado em ${endereco}.</p>
        <p><strong>Valor:</strong> ${valor}</p>
        ${clausulas}
      `;
    }
  </script>
</body>
</html>
